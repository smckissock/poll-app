<!DOCTYPE html>

<html>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width,initial-scale=1'>

    <title>CES 2024</title>  

    <script src='https://unpkg.com/crossfilter2@1.4.8/crossfilter.js'></script>
    <script src='https://d3js.org/d3.v7.min.js'></script>
    <script src='https://unpkg.com/dc@4.2.7/dist/dc.js'></script>

    <link href='https://cdn.jsdelivr.net/npm/dc@4.2.7/dist/style/dc.min.css' rel='stylesheet' type='text/css'>    
    <link href='app/css/layout.css' rel='stylesheet' type='text/css'>
    <link href='app/css/table.css' rel='stylesheet' type='text/css'>
    <link href='app/css/style.css' rel='stylesheet' type='text/css'>
    <link href='app/css/loading.css' rel='stylesheet' type='text/css'>
</head>

<body>  
    <div id="loading-overlay" class="loading-hidden">
        <div class="spinner"></div>
    </div>

    <div id="title">2024 Cooperative Election Study
        <span class="title-links">
            CES <a href="https://tischcollege.tufts.edu/research-faculty/research-centers/cooperative-election-study" target="_blank" rel="noopener noreferrer">website</a>
            and <a href="https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/X11EP6" target="_blank" rel="noopener noreferrer">data</a>
        </span>
    </div>

    <div id="buttons"></div>
    
    <div id="filters">
        <div class="filters-grid-container">
            <div class="national-survey-header">
                <div class="red-line"></div>
                <span class="national-survey-text">National Survey Results</span>
            </div>

            <div class="responses-section">
                <div class="responses-count">Responses: 0</div>
            </div>

            <div class="filters-section">
                <span class="filters-label">Filters:</span>
                <div class="filter-tags">
                    <!-- Filter tags will be populated dynamically -->
                </div>
            </div>

            <div class="clear-button-section">
                <button id="clear-filters" class="hidden">Clear<br>Filters</button>
            </div>
        </div>
    </div>
    
    <div id="question-group-buttons"></div>
    <div id="output-buttons" class="tab-container"></div>

    <div id="tab-content">
        <div id="responses"></div>
        <div id="bar-charts">
             <div id="age-plot" class="dc-chart"></div>
             <div id="income_value-plot" class="dc-chart"></div>
             <div id="education_level_value-plot" class="dc-chart"></div>

             <div id="state-box-plot" class="dc-chart"></div>
             <div id="gender-box-plot" class="dc-chart"></div>

            <div id="bar-chart" class="dc-chart"></div>
        </div>
    </div>

    <div id="map"></div>
    <div id="chart-1">
        <div id ="race" class="dc-chart"></div>
        <div id ="hispanic" class="dc-chart"></div>
        <div id ="educ" class="dc-chart"></div>
        <div id ="votereg" class="dc-chart"></div>
        
    </div>
    <div id="chart-2">
        <div id ="gender4" class="dc-chart"></div>
        <div id ="pid7" class="dc-chart"></div>
        <div id ="CC24_309e" class="dc-chart"></div>
    </div>

    <script type="module">
        import { Survey } from "./app/js/main.js";
        window.addEventListener('DOMContentLoaded', () => {
            new Survey();
        });
    </script>

    <script data-goatcounter="https://smckissock.goatcounter.com/count"
        async src="//gc.zgo.at/count.js">
    </script>
</body>
</html>